<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Exploring data (in brief) | Data Fluency</title>
  <meta name="description" content="Exploring data (in brief) | Data Fluency" />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="Exploring data (in brief) | Data Fluency" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Exploring data (in brief) | Data Fluency" />
  
  
  

<meta name="author" content="Ben Whalley and Chris Berry" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started-rstudio.html"/>
<link rel="next" href="group-differences-briefly.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />








<link href="media/webex.css" rel="stylesheet" />
<link href="media/psystats.css" rel="stylesheet" />
<script src="media/webex.js"></script>
<script src="media/psystats.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Fluency</a></li>

<li class="divider"></li>
<li><a href="index.html#section"></a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i>Overview</a><ul>
<li class="chapter" data-level="" data-path="approach-of-this-course.html"><a href="approach-of-this-course.html"><i class="fa fa-check"></i>Approach of this course</a></li>
<li class="chapter" data-level="" data-path="format-of-the-sessions.html"><a href="format-of-the-sessions.html"><i class="fa fa-check"></i>Format of the sessions</a></li>
<li class="chapter" data-level="" data-path="the-most-important-thinkg-of-all.html"><a href="the-most-important-thinkg-of-all.html"><i class="fa fa-check"></i>The most important thinkg of all</a></li>
<li class="chapter" data-level="" data-path="list-of-sessions.html"><a href="list-of-sessions.html"><i class="fa fa-check"></i>List of sessions</a></li>
<li class="chapter" data-level="" data-path="access-to-r.html"><a href="access-to-r.html"><i class="fa fa-check"></i>Access to R</a></li>
<li class="chapter" data-level="" data-path="reasons-to-use-r.html"><a href="reasons-to-use-r.html"><i class="fa fa-check"></i>Why do we use R?</a></li>
<li class="chapter" data-level="" data-path="teachers-notes.html"><a href="teachers-notes.html"><i class="fa fa-check"></i>Teachers’ notes</a></li>
<li class="chapter" data-level="" data-path="week-by-week-resources.html"><a href="week-by-week-resources.html"><i class="fa fa-check"></i>Week-by-week resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="assessments.html"><a href="assessments.html"><i class="fa fa-check"></i>Assessments</a><ul>
<li class="chapter" data-level="" data-path="core-skills-test.html"><a href="core-skills-test.html"><i class="fa fa-check"></i>Core skills test</a></li>
<li class="chapter" data-level="" data-path="analysis-and-visualisation-task.html"><a href="analysis-and-visualisation-task.html"><i class="fa fa-check"></i>Analysis and visualisation task</a></li>
<li class="chapter" data-level="" data-path="authentic-analysis-assessment.html"><a href="authentic-analysis-assessment.html"><i class="fa fa-check"></i>Authentic analysis assessment</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="beginners.html"><a href="beginners.html"><i class="fa fa-check"></i>BeginneRs</a><ul>
<li class="chapter" data-level="" data-path="getting-started-rstudio.html"><a href="getting-started-rstudio.html"><i class="fa fa-check"></i>Getting started with RStudio</a></li>
<li class="chapter" data-level="" data-path="exploring-data-brief.html"><a href="exploring-data-brief.html"><i class="fa fa-check"></i>Exploring data (in brief)</a></li>
<li class="chapter" data-level="" data-path="group-differences-briefly.html"><a href="group-differences-briefly.html"><i class="fa fa-check"></i>Group differences (briefly)</a></li>
<li class="chapter" data-level="" data-path="undergraduate-stats-in-r.html"><a href="undergraduate-stats-in-r.html"><i class="fa fa-check"></i>Undergraduate stats in R</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="visualisation.html"><a href="visualisation.html"><i class="fa fa-check"></i>Visualisation and plotting</a><ul>
<li class="chapter" data-level="" data-path="session-1.html"><a href="session-1.html"><i class="fa fa-check"></i>Session 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data-handling.html"><a href="data-handling.html"><i class="fa fa-check"></i>Data handling</a><ul>
<li class="chapter" data-level="" data-path="sesssion-1.html"><a href="sesssion-1.html"><i class="fa fa-check"></i>Sesssion 1</a></li>
<li class="chapter" data-level="" data-path="session-2.html"><a href="session-2.html"><i class="fa fa-check"></i>Session 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i>Regression</a><ul>
<li class="chapter" data-level="" data-path="session-1-1.html"><a href="session-1-1.html"><i class="fa fa-check"></i>Session 1</a></li>
<li class="chapter" data-level="" data-path="session-2-1.html"><a href="session-2-1.html"><i class="fa fa-check"></i>Session 2</a></li>
<li class="chapter" data-level="" data-path="session-3.html"><a href="session-3.html"><i class="fa fa-check"></i>Session 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="uncertainty.html"><a href="uncertainty.html"><i class="fa fa-check"></i>Uncertainty</a><ul>
<li class="chapter" data-level="" data-path="session-1-2.html"><a href="session-1-2.html"><i class="fa fa-check"></i>Session 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="building-models.html"><a href="building-models.html"><i class="fa fa-check"></i>Building models</a><ul>
<li class="chapter" data-level="" data-path="session-1-multiple-regression.html"><a href="session-1-multiple-regression.html"><i class="fa fa-check"></i>Session 1: Multiple regression</a></li>
<li class="chapter" data-level="" data-path="session-2-anova-and-bayes-factor.html"><a href="session-2-anova-and-bayes-factor.html"><i class="fa fa-check"></i>Session 2: Anova and Bayes Factor</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="testing.html"><a href="testing.html"><i class="fa fa-check"></i>Testing</a><ul>
<li><a href="session-1-planned-contrasts-with-emmeans.html#session-1-planned-contrasts-with-emmeans">Session 1: Planned contrasts with <code>emmeans</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="communicating-results.html"><a href="communicating-results.html"><i class="fa fa-check"></i>Communicating results</a><ul>
<li class="chapter" data-level="" data-path="session-1-communicating-anova-and-regression.html"><a href="session-1-communicating-anova-and-regression.html"><i class="fa fa-check"></i>Session 1: Communicating Anova and Regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="real-world-data.html"><a href="real-world-data.html"><i class="fa fa-check"></i>Real world data</a><ul>
<li class="chapter" data-level="" data-path="session-1-reproducing-a-real-paper.html"><a href="session-1-reproducing-a-real-paper.html"><i class="fa fa-check"></i>Session 1: Reproducing a real paper</a></li>
<li class="chapter" data-level="" data-path="session-2-reproducing-a-real-paper.html"><a href="session-2-reproducing-a-real-paper.html"><i class="fa fa-check"></i>Session 2: Reproducing a real paper</a></li>
<li class="chapter" data-level="" data-path="session-3-reproducing-a-real-paper.html"><a href="session-3-reproducing-a-real-paper.html"><i class="fa fa-check"></i>Session 3: Reproducing a real paper</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="extras.html"><a href="extras.html"><i class="fa fa-check"></i>Extras</a><ul>
<li class="chapter" data-level="" data-path="common-problems.html"><a href="common-problems.html"><i class="fa fa-check"></i>Common problems</a></li>
<li class="chapter" data-level="" data-path="more-on-tibbles.html"><a href="more-on-tibbles.html"><i class="fa fa-check"></i>More on Tibbles’</a></li>
<li class="chapter" data-level="" data-path="self-test-quizzes.html"><a href="self-test-quizzes.html"><i class="fa fa-check"></i>Self-test Quizzes</a></li>
<li class="chapter" data-level="" data-path="causes-quiz.html"><a href="causes-quiz.html"><i class="fa fa-check"></i>Causes and effects</a></li>
<li class="chapter" data-level="" data-path="measurement-quiz.html"><a href="measurement-quiz.html"><i class="fa fa-check"></i>Measurement</a></li>
<li class="chapter" data-level="" data-path="data-quiz.html"><a href="data-quiz.html"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="regression-quiz.html"><a href="regression-quiz.html"><i class="fa fa-check"></i>Regression</a></li>
<li class="chapter" data-level="" data-path="multiple-regression-quiz.html"><a href="multiple-regression-quiz.html"><i class="fa fa-check"></i>Multiple regression quiz</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="./LICENCE" target="blank">Licence: CC BY-SA 4</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Fluency</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exploring-data-brief" class="section level2">
<h2>Exploring data (in brief)</h2>
<div id="before-you-start" class="section level3">
<h3>Before you start…</h3>
<p>Before starting this exercise, you should have had a brief introduction to using
RStudio. If not, take a look at the <a href="getting-started-rstudio">Using RStudio</a>
worksheet.</p>
</div>
<div id="contents" class="section level3">
<h3>Contents</h3>
<ul>
<li><a href="exploring-data-brief.html#worksheets-how-to">How to use these worksheets</a></li>
<li><a href="exploring-data-brief.html#loading-a-package">Loading a package</a></li>
<li><a href="exploring-data-brief.html#loading-data">Loading data</a></li>
<li><a href="exploring-data-brief.html#inspecting-data">Inspecting data</a></li>
<li><a href="exploring-data-brief.html#calculating-a-mean">Calculating a mean</a></li>
<li><a href="exploring-data-brief.html#missing-data">Dealing with missing data</a></li>
</ul>
</div>
<div id="worksheets-how-to" class="section level3">
<h3>How to use these worksheets.</h3>
<p>Throughout this worksheet (and others on the course), you’ll see the commands
you should type into RStudio inside a grey box, followed by the output you
should expect to see in one or more white boxes. Any differences in the colour
of the text can be ignored.</p>
<p>Each command in this worksheet is followed by one or more <em>explanation</em>
sections - those are there to help you understand how the commands work and how
to read the output they produce.</p>
</div>
<div id="loading-a-package" class="section level3">
<h3>Loading a package</h3>
<p>First, we need to load a package called <code>tidyverse</code>. A package is an extension
to R that adds new commands. Nearly everything we’ll do in this course uses the
tidyverse package, so pretty much every project starts with this instruction.</p>
<p><strong>Type (or copy and paste) the command in the grey box into line 1 of the
<em>Script</em> window of RStudio</strong>. Now, with your cursor still on line 1, press
CTRL+ENTER (i.e. press the key marked ‘Ctrl’ and the RETURN or ENTER key
together).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
<p>When you do this, line 1 is automatically copied to your <em>Console</em> window and
run. Then, RStudio will print some text to the Console (shown in the white box,
above). This text tells you that the <em>tidyverse</em> package has loaded (“attached”)
some other pacakges (e.g. <em>dplyr</em>). It also tells you that the <em>dplyr</em> package
changes the way some commands in R work (“conflicts”). That’s OK.</p>
<p>If you get an output that includes the word ‘error’, please see the
<a href="common-problems.html#common-problems">common problems</a> section.</p>
</div>
<div id="saving-your-script" class="section level3">
<h3>Saving your script</h3>
<p>You should notice that the name <code>Untitled1</code> on the <em>Script</em> window has now gone
red. This is to remind you that your script has changed since the last time you
saved it. So, click on the “Save” icon (the little floppy disk) and save your R
script with some kind of meaningful name, for example <code>briefguide.R</code>. The <code>.R</code>
indicates that it is an R script.</p>
<p>Re-save your script each time you change something in it; that way, you won’t
lose any of your work.</p>
</div>
<div id="loading-data" class="section level3">
<h3>Loading data</h3>
<p>Now, we’re going to load some data on the income of 10,000 people in the United
States of America. I’ve made up this dataset for teaching purposes, but it’s
somewhat similar to large open data sets available on the web, such as
<a href="https://thedataweb.rm.census.gov/ftp/cps_ftp.html">US Current Population Survey</a>.
Here’s how you get a copy of this data into RStudio so you can start looking at
it:</p>
<ol style="list-style-type: decimal">
<li><p>Download a copy of the data, by clicking
<a href="http://www.willslab.org.uk/cps2.csv">here</a> and saving it to the Downloads
folder of your computer.</p></li>
<li><p>Go to RStudio in your web browser.</p></li>
<li><p>Click on the ‘Files’ tab in RStudio (bottom right rectangle)</p></li>
<li><p>Click the ‘Upload’ button.</p></li>
<li><p>Click ‘Browse…’</p></li>
<li><p>Go to your Downloads folder, and select the file you just saved there.</p></li>
<li><p>Click “OK”.</p></li>
<li><p>Copy or type the following command into your RStudio script window, and run
it (i.e. press CTRL+ENTER while your cursor is on that line)</p></li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">cpsdata &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;cps2.csv&quot;</span>)</a></code></pre></div>
<!-- TODO check if this saves file in right directory -->
<div id="explanation-of-the-command" class="section level4">
<h4>Explanation of the command</h4>
<p>There are three parts to the command <code>cpsdata &lt;- read_csv(&quot;cps2.csv&quot;)</code>:</p>
<ol style="list-style-type: decimal">
<li><p>The first part of the command is <code>cpsdata</code>. This gives a name to the data we
are going to load. We’ll use this name to refer to it later, so it’s worth
using a name that is both short and meaningful. I’ve called it <code>cpsdata</code>
because it’s somewhat similar to data from the US Current Population Survey,
but you can give data pretty much any name you choose (e.g. <em>fart</em>).</p></li>
<li><p>The bit in the middle, <code>&lt;-</code>, is an arrow and is typed by pressing <code>&lt;</code> and
then <code>-</code>, without a space. This arrow means “put the thing on the right of
the arrow into the thing on the left of the arrow”. In Rstudio</p></li>
<li><p>The last part of the command is <code>read_csv(&quot;cps2.csv&quot;)</code>. It loads the data
file into <code>cpsdata</code>. The part inside the speech marks, <code>cps2.csv</code>, is the
name of the file you just uploaded to your RStudio project. This command can
also download data directly from the web, for example
<code>read_csv(&quot;http://www.willslab.org.uk/cps2.csv&quot;)</code>. This would have been a
quicker way to do it in this case, but of course not all data is on a web
page.</p></li>
</ol>
</div>
<div id="explanation-of-the-output" class="section level4">
<h4>Explanation of the output</h4>
<p>R likes to print things in red sometimes – this does not mean there’s a
problem. If there’s a problem, it will actually say ‘error’. The output here
tells us that R has loaded the data, which has eight parts (columns, or <code>cols</code>).
It gives us the name of the columns (<code>ID, sex, ...</code>) and tells us what sort of
data each column contains: <code>character</code> means the data is words (e.g. ‘female’),
<code>double</code> means the data is a number (e.g. ‘42.78’).</p>
<p>If you get an error here, please see <a href="common-errors.html">common errors</a>.</p>
</div>
</div>
<div id="inspecting-data" class="section level3">
<h3>Inspecting data</h3>
<p>Make sure you have just completed the <a href="exploring-data-brief.html#loading-data">loading data</a> worksheet
and have the <code>cps2</code> dataset loaded.</p>
<hr />
<p>Next, we’ll take a peek at these data. You can do this by clicking on the data
in the <em>Environment</em> tab of RStudio, see <a href="using_rstudio.html">Using RStudio</a>.</p>
<p>We can now see the data set (also known as a <em>data frame</em>). We can see that this
data frame has 8 columns and 10000 rows. Each row is one person, and each column
provides some information about them. Below is a description of each of the
columns. Where you see <code>NA</code> this means this piece of data is missing for this
person – quite common in some real datasets.</p>
<p>Here’s what each of the columns in the data set contains:</p>
<table>
<colgroup>
<col width="9%" />
<col width="36%" />
<col width="53%" />
</colgroup>
<thead>
<tr class="header">
<th>Column</th>
<th>Description</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ID</td>
<td>Unique anonymous participant number</td>
<td>1-10,000</td>
</tr>
<tr class="even">
<td>sex</td>
<td>Biological sex of participant</td>
<td>male, female</td>
</tr>
<tr class="odd">
<td>native</td>
<td>Participant born in the US?</td>
<td>foreign, native</td>
</tr>
<tr class="even">
<td>blind</td>
<td>Participant blind?</td>
<td>yes, no</td>
</tr>
<tr class="odd">
<td>hours</td>
<td>Number of hours worked per week</td>
<td>a number</td>
</tr>
<tr class="even">
<td>job</td>
<td>Type of job held by participant:</td>
<td>charity, nopay, private, public</td>
</tr>
<tr class="odd">
<td>income</td>
<td>Annual income in dollars</td>
<td>a number</td>
</tr>
<tr class="even">
<td>education</td>
<td>Highest qualification obtained</td>
<td>grade-school, high-school, bachelor, master, doctor</td>
</tr>
</tbody>
</table>
</div>
<div id="calculating-a-mean" class="section level3">
<h3>Calculating a mean</h3>
<p>Make sure you have recently (in this session) completed the
<a href="exploring-data-brief.html#loading-data">loading data</a> worksheet and have the <code>cps2</code> dataset loaded.</p>
<hr />
<p>Now we have these data, one question we can ask is “what is the average income
of people in the U.S.?” (or, at least, in this sample). In this first example,
we’re going to calculate the <em>mean</em> income.</p>
<p>As you know, you calculate a mean by adding up all the incomes and dividing by
the number of incomes. Our sample has 10,000 participants, so this would be a
long and tedious calculation – and we’d probably make an error.</p>
<p>It would also be a little bit tedious and error prone in a spreadsheet
application (e.g. Excel, Libreoffice Calc). There are some very famous cases of
these kinds of “Excel errors” in research, e.g.
<a href="https://genomebiology.biomedcentral.com/articles/10.1186/s13059-016-1044-7">genetics</a>,
<a href="https://arstechnica.com/tech-policy/2013/04/microsoft-excel-the-ruiner-of-global-economies/">economics</a>.</p>
<p>In R, we can calculate the mean instantly, and it’s harder to make the sorts of
errors that are common in Excel-based analysis.</p>
<p>To calculate mean income in R, we add the following command to our script (line
3), and press CTRL+ENTER:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">cpsdata <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">   </span><span class="kw">summarise</span>(<span class="kw">mean</span>(income))</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co"># A tibble: 1 x 1</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="st">`</span><span class="dt">mean(income)</span><span class="st">`</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">           <span class="op">&lt;</span>dbl<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="dv">1</span>         <span class="fl">87293.</span></a></code></pre></div>
<p>Your output will tell you the mean income in this sample – it’s the last number
on the bottom right, and it’s approximately $87,000.</p>
<p>If you’re happy with the output you’ve got, move on to the next section. If you
would like a more detailed explanation of this output, see
<a href="more-on-tibbles.html">more on tibbles</a>. We’ll cover this later anyway.</p>
<p>If you get an error here, please see <a href="common-errors.html">common errors</a>.</p>
<div id="explanation-of-the-command-1" class="section level4">
<h4>Explanation of the command</h4>
<p>This command has three components:</p>
<ol style="list-style-type: decimal">
<li><p>The bit on the left, <code>cpsdata</code>, is our data frame, which we loaded and named
earlier.</p></li>
<li><p>The bit in the middle, <code>%&gt;%</code>, is called a <em>pipe</em>. Its job is to send data
from one part of your command to another. It is typed by pressing <code>%</code> then
<code>&gt;</code> then <code>%</code>, without spaces. So <code>cpsdata %&gt;%</code> sends our data frame to the
next part of our command.</p></li>
<li><p>The bit on the right, <code>summarise(mean(income))</code> is itself made up of parts.
The command <code>summarise</code> does as the name might suggest: it summarises a set
of data (<code>cpsdata</code> in this case) into a single number, e.g. a mean. The
<code>mean</code> command indicates that the type of summary we want is a mean (there
are other summaries, as we will cover later). Finally, <code>income</code> is the name
of the column of <code>cpsdata</code> we want to take the mean of – in this case, the
income of each individual.</p></li>
</ol>
<div class="exercise">
<p>Make sure you are 100% clear about the difference between <code>&lt;-</code> and <code>%&gt;%</code>. If
you’re not, ask for an explanation in class now.</p>
<p>The main clue is to look at the direction of the arrows:</p>
<p><code>%&gt;%</code> sends data from left to right. We call this <strong><em>‘piping’</em></strong>.</p>
<p><code>&lt;-</code> sends results from the right hand side, to a variable named on the left.
This is called <strong><em>assignment</em></strong>.</p>
<hr />
<p>Watch out that <code>-&gt;</code> is not the same as <code>%&gt;%</code>. The thin arrow is always for
assignment. You won’t see if often, because it’s normally considered bad manners
to use thin right arrows like this (they get confusing).</p>
</div>
</div>
</div>
<div id="missing-data" class="section level3">
<h3>Dealing with missing data</h3>
<p>To calculate the mean number of hours worked per week, we have to deal with the
fact that there is some missing data - we don’t know for all 10,000 people how
many hours they work in a week, because they didn’t all tell us. To get a mean
of those who did tell us, we tell R to ignore the missing data, like this:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">cpsdata <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="kw">mean</span>(hours, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co"># A tibble: 1 x 1</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">  <span class="st">`</span><span class="dt">mean(hours, na.rm = TRUE)</span><span class="st">`</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">                        <span class="op">&lt;</span>dbl<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="dv">1</span>                        <span class="fl">38.9</span></a></code></pre></div>
<div id="explanation-of-the-command-2" class="section level4">
<h4>Explanation of the command</h4>
<p><code>rm</code> is short for ‘remove’, but ‘ignore’ would be a more accurate description,
as this command doesn’t delete the <code>NA</code> entries in <code>cpsdata</code>, it just ignores
them. So <code>na.rm = TRUE</code> means “ignore the missing data”.</p>
<p>If you get an error here, please see <a href="common-errors.html">common errors</a>.</p>
</div>
</div>
<div id="missing-data-patterns" class="section level3">
<h3>Patterns of missing data</h3>
<p>Sometime we won’t only want to ignore missing data. We might also want to count
how how many variables are missing. The <code>mice</code> package has a useful command for
doing this.</p>
<p>First, we need to load <code>mice</code> like the did <code>tidyverse</code> above. Type (or copy and
paste) the command below into your R script and run it:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">library</span>(mice)</a></code></pre></div>
<p>Then we can use the <code>md.pattern()</code> function to describe the patterns of missing
data:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">cpsdata <span class="op">%&gt;%</span><span class="st"> </span>mice<span class="op">::</span><span class="kw">md.pattern</span>()</a></code></pre></div>
<p><img src="01-beginning_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre><code>     ID sex native income education blind  job hours      
4483  1   1      1      1         1     1    1     1     0
515   1   1      1      1         1     1    1     0     1
3102  1   1      1      1         1     1    0     0     2
1900  1   1      1      1         1     0    0     0     3
      0   0      0      0         0  1900 5002  5517 12419</code></pre>
<div id="explanation-of-the-output-1" class="section level4">
<h4>Explanation of the output</h4>
<p><code>md.pattern()</code> produces two outputs: a plot, and a table.</p>
<p>In the plot we see</p>
<ul>
<li>The variables in the dataset listed along the top</li>
<li>Squares indicating whether a variable is recorded (blue) or missing
(purple/red)</li>
</ul>
<p>Each row in the plot is a missing data <strong><em>pattern</em></strong>. So:</p>
<ul>
<li>In the first row, the pattern is that all variables are recorded</li>
<li>The pattern in the second row is that all variables bar <code>hours</code> were
recorded</li>
<li>The third pattern is that <code>job</code> and <code>hours</code> were missing, and so on.</li>
</ul>
<p>The numbers on the left of the plot indicate <strong><em>how many people fit the
pattern</em></strong>. So:</p>
<ul>
<li>4483 people had complete data (pattern 1)</li>
<li>515 people had complete data except for the <code>hours</code> variable (pattern 2)</li>
<li>3102 people were missing <code>hours</code> and <code>job</code> (pattern 3, and so on)</li>
</ul>
<p>This can be really helpful when checking whether data has been imported
properly, or properly reporting missing data from our experiments <span class="citation">(see MacPherson et al. <a href="#ref-macpherson2010revised">2010</a> for current guidelines for clinical trials, which would
also be good practice for experimental research)</span>.</p>
<p>The numbers along the bottom of the plot show <strong><em>how many missing observations
there were for the variable marked at the top</em></strong>. So:</p>
<ul>
<li>There were 5517 missing observations for <code>hours</code>, across all participants</li>
<li>5002 for <code>job</code>, and so on.</li>
</ul>
<p>The table provides the same information as the plot, but is perhaps harder to
read.</p>
<!--









 -->
</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-macpherson2010revised">
<p>MacPherson, Hugh, Douglas G Altman, Richard Hammerschlag, Li Youping, Wu Taixiang, Adrian White, David Moher, and STRICTA Revision Group. 2010. “Revised Standards for Reporting Interventions in Clinical Trials of Acupuncture (Stricta): Extending the Consort Statement.” <em>Journal of Evidence-Based Medicine</em> 3 (3). Wiley Online Library: 140–55.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started-rstudio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="group-differences-briefly.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
